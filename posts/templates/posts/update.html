{% extends 'base.html' %}
{% block content %}
<div class="container">
  <h2 class="mt-5">글 수정하기</h2>

  <form action="{% url 'posts:update' post.pk %}" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="form-group">
      <label>글 제목</label>
      <input type="text" class="form-control" name="title" value="{{ post.title }}">
    </div>
    <div class="form-group">
      <label>글 내용</label>
      <input type="text" class="form-control" name="content" value="{{ post.content }}">
    </div>
    <div class="form-group">
      <label>타입</label>
      <select name="post_type" class="form-control">
        {% for key, value in post.POST_TYPES %}
          <option value="{{ key }}" 
            {% ifequal post.post_type key %} 
              {% with select="selected" %}
                {{ select}}
              {% endwith %}
            {% endifequal %} 
            >
            {{ value }}
            </option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label>이미지</label>
        <input type="file" name="image">
    </div>
    <input type="submit" value="수정하기" class="btn btn-primary">
  </form>
</div>
{% endblock %}